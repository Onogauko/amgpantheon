<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AMG Pantheon Mobile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- ApexCharts dihapus karena grafik tidak digunakan lagi -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap');
        
        body { 
            font-family: 'Roboto', sans-serif; 
            background-color: #0b0e11; 
            color: #d1d4dc;
            -webkit-tap-highlight-color: transparent;
        }

        /* Custom Scrollbar */
        .custom-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: #1e2329; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #474d57; border-radius: 2px; }

        input[type="number"], input[type="date"] {
            background-color: #2b3139;
            border: 1px solid #474d57;
            color: white;
            color-scheme: dark;
            appearance: none;
        }
        input:focus { border-color: #fcd535; outline: none; }

        .text-up { color: #0ecb81; }
        .text-down { color: #f6465d; }
        
        @keyframes pulse-gold {
            0% { box-shadow: 0 0 0 0 rgba(234, 179, 8, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(234, 179, 8, 0); }
            100% { box-shadow: 0 0 0 0 rgba(234, 179, 8, 0); }
        }
        .btn-action { animation: pulse-gold 2s infinite; }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden bg-[#0b0e11]">

    <!-- 1. Top Bar (App Header) -->
    <header class="h-14 bg-[#181a20] flex items-center justify-between px-4 border-b border-[#2b3139] shrink-0 z-20">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-black font-bold shadow-lg">
                <i class="fas fa-layer-group text-sm"></i>
            </div>
            <div>
                <h1 class="text-sm font-black text-white leading-none tracking-wider">AMG PANTHEON</h1>
                <p class="text-[9px] text-yellow-500 font-bold mt-0.5">DOUBLE VOLUME</p>
            </div>
        </div>
        <div class="flex flex-col items-end">
            <span class="text-[10px] text-gray-500 font-medium">USD/IDR</span>
            <span id="rateTicker" class="text-xs font-mono text-white font-bold">...</span>
        </div>
    </header>

    <!-- 2. Scrollable Content Area -->
    <main class="flex-1 overflow-y-auto custom-scroll pb-20 relative">
        
        <!-- Input Panel -->
        <div class="p-4 space-y-4 pt-6">
            
            <!-- Branding (Tanpa YA'AHOWU) -->
            <div class="text-center py-1">
                <p class="text-[12px] text-gray-400 font-medium uppercase tracking-widest">Calculated By Jenta Zebua</p>
                <div class="h-0.5 w-12 bg-yellow-500 mx-auto rounded-full mt-2"></div>
            </div>

            <!-- Form -->
            <div class="bg-[#1e2329] p-4 rounded-xl space-y-3 shadow-lg border border-[#2b3139]">
                <div>
                    <label class="text-[10px] text-gray-400 font-bold uppercase mb-1 block">Modal Awal (USD)</label>
                    <div class="relative">
                        <input type="number" id="capitalInput" placeholder="1000" class="w-full pl-3 pr-10 py-3 rounded-lg text-sm font-bold bg-[#2b3139] border border-gray-600 focus:border-yellow-500 text-white placeholder-gray-600" oninput="calculate()">
                        <span class="absolute right-3 top-3 text-xs text-yellow-500 font-bold">USDT</span>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label class="text-[10px] text-gray-400 font-bold uppercase mb-1 block">Mulai</label>
                        <input type="date" id="startDate" class="w-full px-2 py-2.5 rounded-lg text-xs font-medium" onchange="calculate()">
                    </div>
                    <div>
                        <label class="text-[10px] text-gray-400 font-bold uppercase mb-1 block">Selesai</label>
                        <input type="date" id="endDate" class="w-full px-2 py-2.5 rounded-lg text-xs font-medium" onchange="calculate()">
                    </div>
                </div>
            </div>

            <!-- Logic Info -->
            <div class="bg-blue-900/10 p-3 rounded-lg border border-blue-500/20">
                <div class="flex items-center gap-2 mb-1">
                    <i class="fas fa-bolt text-blue-400 text-xs"></i>
                    <span class="text-[10px] font-bold text-blue-400 uppercase">Perhitungan Baru</span>
                </div>
                <div class="flex justify-between items-center text-[10px] text-gray-400">
                    <span>Dana Masuk:</span>
                    <span class="text-yellow-400 font-bold">Profit + (Total Vol x 2)</span>
                </div>
            </div>

            <!-- Result Card -->
            <div class="bg-gradient-to-br from-[#2b3139] to-[#181a20] p-5 rounded-xl border border-gray-700 shadow-xl relative overflow-hidden">
                <div class="absolute right-0 top-0 w-20 h-20 bg-yellow-500 rounded-full blur-[40px] opacity-10"></div>
                
                <div class="flex justify-between items-start mb-2 relative z-10">
                    <div>
                        <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider">Estimasi Saldo Akhir</p>
                        <p class="text-[9px] text-green-400 mt-0.5"><i class="fas fa-arrow-up"></i> High Return Mode</p>
                    </div>
                    <i class="fas fa-wallet text-gray-600 text-xl"></i>
                </div>
                
                <div class="relative z-10">
                    <h3 class="text-2xl font-bold text-white tracking-tight" id="finalBalanceIDR">Rp 0</h3>
                    <p class="text-sm text-yellow-500 font-mono font-medium mt-1" id="finalBalanceUSD">$ 0.00</p>
                </div>
            </div>

            <!-- Action Button -->
            <button class="w-full bg-[#0ecb81] active:bg-[#0aa669] text-white font-bold py-4 rounded-xl text-sm uppercase tracking-wider shadow-lg btn-action transition-transform active:scale-95">
                Hitung Simulasi
            </button>

            <!-- Table Section -->
            <div class="pt-4">
                <h3 class="text-xs font-bold text-gray-400 mb-3 flex items-center gap-2">
                    <i class="fas fa-list-ul"></i> Rincian Harian
                </h3>
                
                <div class="overflow-x-auto custom-scroll rounded-lg border border-[#2b3139] bg-[#161a1e]">
                    <table class="w-full text-left whitespace-nowrap">
                        <thead class="bg-[#1e2329] text-[10px] text-gray-500 uppercase font-bold sticky top-0">
                            <tr>
                                <th class="px-4 py-3">Hari</th>
                                <th class="px-4 py-3">Modal</th>
                                <th class="px-4 py-3">Vol (x2)</th>
                                <th class="px-4 py-3 text-right">Profit</th>
                                <th class="px-4 py-3 text-right text-blue-400">Vol Ret (x2)</th>
                                <th class="px-4 py-3 text-right bg-[#2b3139]">Saldo</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody" class="text-xs divide-y divide-[#2b3139]">
                            <tr>
                                <td colspan="6" class="px-4 py-8 text-center text-gray-600 italic text-[10px]">
                                    Masukkan modal untuk melihat data
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="h-10"></div> <!-- Spacer for bottom nav -->
        </div>
    </main>

    <!-- 3. Bottom Navigation (Floating) -->
    <div class="fixed bottom-0 w-full bg-[#181a20]/90 backdrop-blur-md border-t border-[#2b3139] h-16 flex justify-around items-center px-2 z-50">
        <button class="flex flex-col items-center gap-1 p-2 text-yellow-500">
            <i class="fas fa-home text-lg"></i>
            <span class="text-[9px] font-bold">Home</span>
        </button>
        <button class="flex flex-col items-center gap-1 p-2 text-gray-500 hover:text-white">
            <i class="fas fa-chart-bar text-lg"></i>
            <span class="text-[9px] font-medium">Markets</span>
        </button>
        <div class="relative -top-5">
            <button class="w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center text-black shadow-lg shadow-yellow-500/20 transform hover:scale-105 transition-transform">
                <i class="fas fa-exchange-alt text-lg"></i>
            </button>
        </div>
        <button class="flex flex-col items-center gap-1 p-2 text-gray-500 hover:text-white">
            <i class="fas fa-file-contract text-lg"></i>
            <span class="text-[9px] font-medium">Futures</span>
        </button>
        <button class="flex flex-col items-center gap-1 p-2 text-gray-500 hover:text-white">
            <i class="fas fa-wallet text-lg"></i>
            <span class="text-[9px] font-medium">Wallets</span>
        </button>
    </div>

    <!-- Floating CS Button -->
    <button class="fixed bottom-20 right-4 bg-[#0ecb81] text-white w-10 h-10 rounded-full shadow-lg flex items-center justify-center z-40 active:scale-90 transition-transform">
        <i class="fas fa-headset text-sm"></i>
    </button>

    <script>
        // --- LOGIC ---
        let currentRate = 16200;

        const fmtUSD = (n) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 2 }).format(n);
        const fmtIDR = (n) => new Intl.NumberFormat('id-ID', { maximumFractionDigits: 0 }).format(n);
        const fmtNum = (n) => new Intl.NumberFormat('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 2 }).format(n);

        async function fetchRate() {
            try {
                const res = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                const data = await res.json();
                if(data.rates.IDR) currentRate = data.rates.IDR;
                document.getElementById('rateTicker').innerText = fmtIDR(currentRate);
            } catch(e) {
                document.getElementById('rateTicker').innerText = fmtIDR(currentRate);
            }
            calculate();
        }

        function calculate() {
            const capitalInput = parseFloat(document.getElementById('capitalInput').value);
            const startVal = document.getElementById('startDate').value;
            const endVal = document.getElementById('endDate').value;

            if (!capitalInput || !startVal || !endVal) return;

            const startDate = new Date(startVal);
            const endDate = new Date(endVal);
            const diffDays = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;

            if (diffDays <= 0) {
                document.getElementById('tableBody').innerHTML = `<tr><td colspan="6" class="px-4 py-8 text-center text-red-500 text-xs">Tanggal tidak valid</td></tr>`;
                return;
            }

            let runningCap = capitalInput;
            let html = '';

            for (let i = 1; i <= diffDays; i++) {
                // Logic: 
                // 1. Start Cap
                let startCapOfDay = runningCap;
                // 2. Vol 1%
                let volPerTrade = startCapOfDay * 0.01;
                // 3. Total Vol (2x trade)
                let totalDailyVol = volPerTrade * 2;
                // 4. Profit (58% of Vol) -> 2x trade
                let profitPerTrade = volPerTrade * 0.58;
                let totalDailyProfit = profitPerTrade * 2;
                // 5. Volume Return (Total Vol x 2)
                let volumeReturn = totalDailyVol * 2;
                // 6. End Cap
                runningCap = startCapOfDay + totalDailyProfit + volumeReturn;

                html += `
                <tr class="hover:bg-[#2b3139]/50 transition-colors border-b border-[#2b3139]">
                    <td class="px-4 py-3 text-gray-400 font-mono text-center">${i}</td>
                    <td class="px-4 py-3 text-gray-300 font-medium">$${fmtNum(startCapOfDay)}</td>
                    <td class="px-4 py-3 text-gray-400 text-[10px]">$${fmtNum(totalDailyVol)}</td>
                    <td class="px-4 py-3 text-right text-emerald-400 font-bold">+$${fmtNum(totalDailyProfit)}</td>
                    <td class="px-4 py-3 text-right text-blue-400 font-bold bg-blue-900/10">+$${fmtNum(volumeReturn)}</td>
                    <td class="px-4 py-3 text-right text-white font-bold bg-[#2b3139]/30 border-l border-[#2b3139]">$${fmtNum(runningCap)}</td>
                </tr>
                `;
            }

            document.getElementById('tableBody').innerHTML = html;
            document.getElementById('finalBalanceUSD').innerText = fmtUSD(runningCap);
            document.getElementById('finalBalanceIDR').innerText = `Rp ${fmtIDR(Math.floor(runningCap * currentRate))}`;
        }

        window.onload = () => {
            fetchRate();
            const today = new Date();
            const next = new Date(); next.setDate(next.getDate() + 7);
            document.getElementById('startDate').valueAsDate = today;
            document.getElementById('endDate').valueAsDate = next;
        };
    </script>
</body>
</html>
